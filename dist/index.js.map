{"version":3,"sources":["../index.js"],"names":["compose","actionReducer","actionHandler","actionCreator","connect","create","withReducer","getType","fromType","createAction","select","actions","actionHandlers","actionReducers","commonSelectors","defaultSelector","x","registeredTypes","types","init","dispatch","initAction","type","uniqueId","Date","getTime","generateType","obj","addToTypeRegistry","name","combineReducers","reducer","Object","assign","original","createStateMapper","prop","substr","state","props","defaultMiddleware","store","action","handler","toString","next","options","actionMetadata","creator","payload","extraProps","actionCreators","entries","forEach","pair","mapStateToProps","args","split","structuredSelector","originalConnect","initialState","reducers","registeredReducers","initializedReducers","initReducer","prevState","lazyDispatch","defaultReducer","length","reduce","current","actionResult","setTimeout","middlewares","applyMiddleware","concat","app","push","Provider","React","createElement","WrappedComponent","ReducerInjector","context","Component","contextTypes","PropTypes","object","isRequired","displayName","extra","selectors","result","arg","Array","isArray"],"mappings":"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","file":"index.js","sourcesContent":["import {\r\n  createStore,\r\n  applyMiddleware,\r\n  combineReducers as reduxCombineReducers\r\n} from \"redux\";\r\nimport React from \"react\";\r\nimport { connect as originalConnect, Provider } from \"react-redux\";\r\nimport { createSelector, createStructuredSelector } from \"reselect\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst actions = {};\r\nconst actionHandlers = {};\r\nconst actionReducers = {};\r\nconst commonSelectors = {};\r\nconst defaultSelector = x => x;\r\nconst registeredTypes = {};\r\nconst types = {\r\n  init: \"@@init\",\r\n  dispatch: \"@@dispatch\"\r\n};\r\nconst initAction = { type: types.init };\r\nlet uniqueId = new Date().getTime();\r\n\r\nfunction generateType(obj, addToTypeRegistry) {\r\n  if (typeof obj === \"function\" && !obj.type) {\r\n    obj.type = `@@${obj.name}_${uniqueId++}`;\r\n    if (addToTypeRegistry) {\r\n      registeredTypes[obj.type] = obj;\r\n    }\r\n  }\r\n}\r\n\r\nfunction combineReducers(reducer) {\r\n  return Object.assign(reduxCombineReducers(reducer), {\r\n    original: reducer\r\n  });\r\n}\r\n\r\nfunction createStateMapper(prop) {\r\n  if (prop[0] === \"@\") {\r\n    prop = prop.substr(1);\r\n    return (state, props) => props[prop];\r\n  }\r\n  return state => state[prop];\r\n}\r\n\r\nfunction defaultMiddleware(store) {\r\n  return next => action => {\r\n    if (action.handler && action.handler.toString() in actionHandlers) {\r\n      return actionHandlers[action.handler](store, next, action);\r\n    }\r\n    return next(action);\r\n  };\r\n}\r\n\r\nexport { compose } from \"redux\";\r\n\r\n/**\r\n * register dynamic action reducer\r\n * @param reducer\r\n * @returns {string}\r\n */\r\nexport function actionReducer(reducer) {\r\n  if (typeof reducer !== \"function\") {\r\n    reducer = combineReducers(reducer);\r\n  }\r\n\r\n  generateType(reducer);\r\n\r\n  actionReducers[reducer.type] = reducer;\r\n\r\n  return reducer.type;\r\n}\r\n\r\n/**\r\n * register dynamic action handler\r\n * @param handler\r\n */\r\nexport function actionHandler(handler) {\r\n  generateType(handler);\r\n\r\n  actionHandlers[handler.type] = handler;\r\n\r\n  return handler.type;\r\n}\r\n\r\nexport function actionCreator(action, options = {}) {\r\n  // single action creator\r\n  if (typeof action === \"function\") {\r\n    generateType(action);\r\n\r\n    let actionMetadata = actions[action.type];\r\n    if (!actionMetadata) {\r\n      actions[action.type] = actionMetadata = {\r\n        handler: action,\r\n        creator(payload, extraProps) {\r\n          return Object.assign(\r\n            { type: action.type, payload },\r\n            options,\r\n            extraProps\r\n          );\r\n        }\r\n      };\r\n    }\r\n\r\n    return actionMetadata.creator;\r\n  }\r\n  // support multiple action creators\r\n  const actionCreators = {};\r\n  Object.entries(action).forEach(\r\n    pair => (actionCreators[pair[0]] = actionCreator(pair[1], options))\r\n  );\r\n  return actionCreators;\r\n}\r\n\r\nexport function connect(mapStateToProps, ...args) {\r\n  if (mapStateToProps) {\r\n    // support named props\r\n    if (typeof mapStateToProps === \"string\") {\r\n      const props = mapStateToProps.split(/\\s+/);\r\n      const structuredSelector = {};\r\n      props.forEach(\r\n        prop =>\r\n          (structuredSelector[prop[0] === \"@\" ? prop.substr(1) : prop] =\r\n            commonSelectors[prop] ||\r\n            (commonSelectors[prop] = createSelector(\r\n              createStateMapper(prop),\r\n              defaultSelector\r\n            )))\r\n      );\r\n      mapStateToProps = structuredSelector;\r\n    }\r\n    if (typeof mapStateToProps !== \"function\") {\r\n      return originalConnect(\r\n        createStructuredSelector(mapStateToProps),\r\n        ...args\r\n      );\r\n    }\r\n  }\r\n\r\n  return originalConnect(mapStateToProps, ...args);\r\n}\r\n\r\nexport function create(initialState = {}, ...middlewares) {\r\n  const reducers = [];\r\n  const registeredReducers = {};\r\n  const initializedReducers = {};\r\n\r\n  const initReducer = (state, reducer) => {\r\n    if (reducer.original && !(reducer.type in initializedReducers)) {\r\n      initializedReducers[reducer.type] = true;\r\n      const prevState = state;\r\n      Object.entries(reducer.original).forEach(pair => {\r\n        if (typeof state[pair[0]] === \"undefined\") {\r\n          if (prevState === state) {\r\n            state = Object.assign({}, state);\r\n          }\r\n          state[pair[0]] = pair[1](state[pair[0]], initAction);\r\n        }\r\n      });\r\n    }\r\n    return state;\r\n  };\r\n  const lazyDispatch = (state, ...actions) => {\r\n    return { type: types.dispatch, state, actions };\r\n  };\r\n  const defaultReducer = (state = initialState, action) => {\r\n    if (reducers.length) {\r\n      state = reducers.reduce(\r\n        (current, reducer) => reducer(current, action),\r\n        state\r\n      );\r\n    }\r\n\r\n    // is custom action\r\n    if (action.type in actions) {\r\n      const actionHandler = actions[action.type].handler;\r\n      const actionResult = actionHandler(state, action.payload, lazyDispatch);\r\n\r\n      if (actionResult && actionResult.type === types.dispatch) {\r\n        setTimeout(() => {\r\n          actionResult.actions.forEach(action => store.dispatch(action));\r\n        }, 0);\r\n        state = actionResult.state;\r\n      } else {\r\n        state = actionResult;\r\n      }\r\n    }\r\n\r\n    if (action.reducer in actionReducers) {\r\n      const actionReducer = actionReducers[action.reducer];\r\n      state = initReducer(state, actionReducer);\r\n      state = actionReducer(state, action);\r\n    }\r\n\r\n    return state;\r\n  };\r\n\r\n  const store = createStore(\r\n    defaultReducer,\r\n    applyMiddleware(...[defaultMiddleware].concat(middlewares))\r\n  );\r\n\r\n  const app = Object.assign({}, store, {\r\n    // register reducer\r\n    reducer(reducer) {\r\n      if (typeof reducer !== \"function\") {\r\n        reducer = combineReducers(reducer);\r\n      }\r\n\r\n      generateType(reducer);\r\n\r\n      if (reducer.type in registeredReducers) return;\r\n\r\n      registeredReducers[reducer.type] = true;\r\n\r\n      reducers.push(reducer);\r\n\r\n      // dispatch init method after reducer added\r\n      store.dispatch(initAction);\r\n    },\r\n    Provider(props) {\r\n      return React.createElement(\r\n        Provider,\r\n        Object.assign({ store: app }, props)\r\n      );\r\n    }\r\n  });\r\n\r\n  return app;\r\n}\r\n\r\nexport function withReducer(reducer) {\r\n  if (typeof reducer !== \"function\") {\r\n    reducer = combineReducers(reducer);\r\n  }\r\n\r\n  return function(WrappedComponent) {\r\n    class ReducerInjector extends React.Component {\r\n      render() {\r\n        this.context.store.reducer(reducer);\r\n        return React.createElement(WrappedComponent, this.props);\r\n      }\r\n    }\r\n\r\n    ReducerInjector.contextTypes = {\r\n      store: PropTypes.object.isRequired\r\n    };\r\n\r\n    ReducerInjector.displayName = `withReducer(${WrappedComponent.displayName ||\r\n      WrappedComponent.name ||\r\n      \"Component\"})`;\r\n    return ReducerInjector;\r\n  };\r\n}\r\n\r\nexport function getType(action) {\r\n  generateType(action, true);\r\n\r\n  return action.type;\r\n}\r\n\r\nexport function fromType(type) {\r\n  if (typeof type === \"function\") {\r\n    return type;\r\n  }\r\n  return registeredTypes[type];\r\n}\r\n\r\nexport function createAction(creator, payload, extra) {\r\n  return Object.assign(\r\n    {\r\n      type: getType(creator),\r\n      payload\r\n    },\r\n    extra\r\n  );\r\n}\r\n\r\nexport function select(selectors, result) {\r\n  if (!result) {\r\n    result = arg => arg;\r\n  }\r\n\r\n  if (Array.isArray(selectors)) {\r\n    return createSelector(selectors, result);\r\n  }\r\n\r\n  return createStructuredSelector(selectors);\r\n}\r\n\r\nexport default create;\r\n"]}